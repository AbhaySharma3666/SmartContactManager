<!DOCTYPE html>
<html
  lang="en"
  th:replace="~{base :: parent(~{::#content},~{::title},~{::script})}"
>
<head>
  <title>Login â€¢ Smart Contact Manager</title>
</head>

<body>
<div id="content">

  <!-- PAGE WRAPPER -->
  <section class="min-h-screen flex items-center justify-center
                  bg-gray-200 dark:bg-gray-900 px-4">

    <!-- CARD -->
    <div class="w-full max-w-md bg-zinc-300 dark:bg-gray-800
                rounded-2xl shadow-2xl border-t-8 border-indigo-600
                p-8">

      <!-- MESSAGE -->
      <div data-th-replace="message::messagebox"></div>

      <!-- HEADER -->
      <div class="text-center mb-8">
        <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white">
          Welcome Back
        </h1>
        <p class="text-gray-500 dark:text-gray-400 mt-2">
          Login to manage your contacts securely
        </p>
      </div>

      <!-- STATUS MESSAGES -->
      <div class="text-red-600 text-center mb-4" th:if="${param.error}">
        Invalid email or password.
      </div>
      <div class="text-green-600 text-center mb-4" th:if="${param.logout}">
        You have been logged out successfully.
      </div>

      <!-- LOGIN FORM -->
      <form method="post" data-th-action="@{'/authenticate'}" class="space-y-5">

        <!-- EMAIL -->
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
            Email Address
          </label>
          <input
            name="email"
            type="email"
            placeholder="you@example.com"
            required
            class="w-full px-4 py-3 rounded-lg border border-gray-300
                   dark:border-gray-600 dark:bg-gray-900 dark:text-white
                   focus:ring-2 focus:ring-indigo-500 focus:outline-none transition"/>
        </div>

        <!-- PASSWORD -->
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
            Password
          </label>
          <input
            name="password"
            type="password"
            required
            class="w-full px-4 py-3 rounded-lg border border-gray-300
                   dark:border-gray-600 dark:bg-gray-900 dark:text-white
                   focus:ring-2 focus:ring-indigo-500 focus:outline-none transition"/>
        </div>

        <!-- ACTIONS -->
        <div class="flex gap-3 pt-2">
          <button
            type="submit"
            class="flex-1 bg-indigo-600 text-white py-3 rounded-lg
                   font-semibold hover:bg-indigo-500 transition
                   shadow-lg hover:shadow-xl cursor-pointer">
            Login
          </button>
          <button
            type="reset"
            class="flex-1 bg-gray-200 dark:bg-gray-700
                   text-gray-800 dark:text-white py-3 rounded-lg
                   font-semibold hover:bg-gray-300 dark:hover:bg-gray-600
                   transition cursor-pointer">
            Reset
          </button>
        </div>
      </form>

      <!-- DIVIDER -->
      <div class="flex items-center my-8">
        <div class="flex-grow h-px bg-gray-300 dark:bg-gray-600"></div>
        <span class="px-3 text-sm text-gray-500 dark:text-gray-400">
          OR
        </span>
        <div class="flex-grow h-px bg-gray-300 dark:bg-gray-600"></div>
      </div>

      <!-- SOCIAL LOGIN -->
      <div class="space-y-4">

        <!-- GOOGLE -->
        <a
          data-th-href="@{'/oauth2/authorization/google'}"
          class="w-full flex justify-center items-center gap-3
                 py-3 rounded-lg font-semibold border border-gray-300
                 dark:border-gray-600 bg-white dark:bg-gray-900
                 hover:bg-gray-100 dark:hover:bg-gray-700
                 transition shadow cursor-pointer">
          <span>Sign in with Google</span>
        </a>

        <!-- GITHUB -->
        <a
          data-th-href="@{'/oauth2/authorization/github'}"
          class="w-full flex justify-center items-center gap-3
                 py-3 rounded-lg font-semibold bg-gray-800
                 hover:bg-gray-700 text-white transition
                 shadow cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
               fill="currentColor" viewBox="0 0 1792 1792">
            <path
              d="M896 128q209 0 385.5 103t279.5 279.5 103 385.5q0 251-146.5 451.5t-378.5 277.5q-27 5-40-7t-13-30v-209q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-119-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-85-13.5q-45 113-8 204-79 87-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-39 36-49 103v102q0 18-13 30t-40 7q-232-77-378.5-277.5t-146.5-451.5q0-209 103-385.5t279.5-279.5 385.5-103z">
            </path>
          </svg>
          <span>Sign in with GitHub</span>
        </a>

      </div>

    </div>
  </section>
</div>

<script>
  console.log("Login page loaded");
</script>
</body>
</html>
